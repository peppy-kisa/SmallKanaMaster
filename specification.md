# Small Kana Master 仕様書

## 1. アプリ概要

### 1.1 目的
小学校低学年の児童が、拗音と促音を楽しく学習できるWebアプリケーション

### 1.2 対象ユーザー
- 小学1〜2年生
- 拗音・促音の学習が必要な児童

### 1.3 主要機能
- 虫食い問題による学習
- 5問単位での出題と結果表示
- ランクアップシステム
- 進捗の可視化

## 2. 画面構成

### 2.1 トップ画面
- アプリタイトル「ようおん・そくおん マスター」
- スタートボタン
- 現在のランクと次のランクまでの正解数表示
- 累計正解数の表示
- キャラクター表示エリア

### 2.2 問題画面
- 問題番号表示（例：1/5）
- 虫食い単語の表示
- 選択肢ボタン（3〜4個）
- ヒントボタン
- 音声再生ボタン

### 2.3 結果画面
- 正解数の表示（◯/5問中）
- 各問題の正誤表示
- 獲得スタンプやバッジ
- 「もう一度」ボタン
- 「トップへ」ボタン

## 3. 機能詳細

### 3.1 問題出題機能

#### 3.1.1 問題形式
```
例1：き◯うしつ （正解：ょ → きょうしつ）
例2：が◯こう （正解：っ → がっこう）
```
#### 3.1.2 問題数
各難易度に100問

#### 3.1.2 選択肢
- 拗音問題：「ゃ」「ゅ」「ょ」から選択
- 促音問題：「っ」「つ」「う」から選択

#### 3.1.3 難易度
- レベル1：基本的な単語
- レベル2：少し難しい単語
- レベル3：応用的な単語

### 3.2 ランクシステム

#### 3.2.1 ランク一覧
| ランク | 必要正解数 | バッジ |
|--------|------------|--------|
| ビギナー | 0〜10問 | 🌱 |
| ブロンズ | 11〜30問 | 🥉 |
| シルバー | 31〜60問 | 🥈 |
| ゴールド | 61〜100問 | 🥇 |
| マスター | 101問以上 | 👑 |

#### 3.2.2 ランクアップ演出
- アニメーション付きのお祝い画面
- 効果音の再生
- 新しいバッジの獲得

### 3.3 モチベーション向上機能

#### 3.3.1 スタンプラリー
- 5問全問正解でスペシャルスタンプ
- 連続正解でボーナススタンプ
- スタンプコレクション画面

#### 3.3.2 キャラクター成長
- 正解数に応じてキャラクターが成長
- 例：たまご → ひよこ → にわとり

#### 3.3.3 サウンド演出
- 正解時：明るい効果音
- 不正解時：優しい効果音
- BGM：軽快な音楽

### 3.4 データ保存機能

#### 3.4.1 保存データ
```javascript
{
  totalCorrect: 45,        // 累計正解数
  currentRank: "シルバー",  // 現在のランク
  stamps: [...],           // 獲得スタンプ一覧
  characterLevel: 2,       // キャラクターレベル
  lastPlayDate: "2024-03-15" // 最終プレイ日
}
```

#### 3.4.2 実装方法
- localStorage を使用したブラウザ内保存
- 自動保存機能

## 4. UI/UXデザイン

### 4.1 ビジュアルデザイン
- 明るくカラフルな配色
- 大きく見やすいフォント
- アニメーション効果
- 親しみやすいイラスト

### 4.2 操作性
- タップしやすい大きなボタン
- 直感的なインターフェース
- 音声ガイダンス機能

### 4.3 アクセシビリティ
- すべての漢字にふりがな表示
- 色覚多様性への配慮
- 文字サイズ調整機能

## 5. 技術仕様

### 5.1 使用技術
- HTML5
- CSS3（アニメーション含む）
- JavaScript（ES6+）
- Web Audio API（音声再生用）

### 5.2 ファイル構成
```
/
├── index.html
├── css/
│   └── style.css
├── js/
│   ├── main.js
│   ├── game.js
│   └── storage.js
├── data/
│   ├── questions-level1.json
│   ├── questions-level2.json
│   └── questions-level3.json
├── assets/
│   ├── images/
│   ├── sounds/
│   └── fonts/
└── README.md
```

### 5.3 問題データ形式
```json
{
  "questions": [
    {
      "id": 1,
      "word": "きょうしつ",
      "display": "き◯うしつ",
      "correctAnswer": "ょ",
      "options": ["ゃ", "ゅ", "ょ"],
      "type": "youon",
      "level": 1,
      "hint": "べんきょうする ばしょ"
    }
  ]
}
```

### 5.4 レスポンシブ対応
- スマートフォン：320px〜
- タブレット：768px〜
- PC：1024px〜
